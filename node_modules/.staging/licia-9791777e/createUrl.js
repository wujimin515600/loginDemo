var defaults = require('./defaults');
var isBlob = require('./isBlob');
var isFile = require('./isFile');
var Blob = require('./Blob');
var toArr = require('./toArr');

exports = function(data, opts) {
    opts = opts || {};
    defaults(opts, defOpts);

    if (!isBlob(data) && !isFile(data)) {
        data = new Blob(toArr(data), opts);
    }

    return URL.createObjectURL(data);
};

var defOpts = {
    type: 'text/plain'
};

module.exports = exports;
